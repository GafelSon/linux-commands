# دستورات لینوکس 
تمرین کلاسی درس آزمایشگاه سیستم عامل ۱


---

## یه نگاه کلی بندازیم ببینیم چی یاد میگیریم

۱. [چجوری برنامه‌هامون رو بدون root اجرا کنیم](#۱--چجوری-برنامههامون-رو-بدون-root-اجرا-کنیم)  
۲. [کار با کانتینر بدون داکر](#۲--کار-با-کانتینر-بدون-داکر)  
۳. [چجوری تو ۵ دقیقه مشکل سرویسمون رو پیدا کنیم](#۳--چجوری-تو-۵-دقیقه-مشکل-سرویسمون-رو-پیدا-کنیم)  
۴. [بفهمیم چی سیستممون رو کند کرده](#۴--بفهمیم-چی-سیستممون-رو-کند-کرده)  
۵. [یه گواهی HTTPS بگیریم واسه سایتمون](#۵--یه-گواهی-https-بگیریم-واسه-سایتمون)  
۶. [کارای جالب با SSH](#۶--کارای-جالب-با-ssh)  
۷. [محدود کردن برنامه‌ها که سیستم رو خراب نکنن](#۷--محدود-کردن-برنامهها-که-سیستم-رو-خراب-نکنن)  
۸. [وقتی برنامه کرش کرد چیکار کنیم](#۸--وقتی-برنامه-کرش-کرد-چیکار-کنیم)  
۹. [چطور برنامه رو بسته‌بندی کنیم](#۹--چطور-برنامه-رو-بستهبندی-کنیم)  
۱۰. [شبیه‌سازی مشکلات شبکه](#۱۰--شبیهسازی-مشکلات-شبکه)

---

## ۱ – چجوری برنامه‌هامون رو بدون root اجرا کنیم
[بریم یاد بگیریم](./01-Systemd%20User%20Units%20%26%20Sockets/README.md)

دیگه نیازی نیست با nohup یا tmux بجنگی! یاد میگیری چطور برنامه‌ت رو مث آدم اجرا کنی که خودش restart بشه و لاگ هم بده.

**چند تا دستور که یاد میگیری:**
- `systemctl --user status` - ببین برنامه چطوره
- `systemctl --user start myapp` - برنامه رو روشن کن
- `journalctl --user -f` - لاگ‌ها رو ببین

---

## ۲ – کار با کانتینر بدون داکر
[بریم یاد بگیریم](./02-Rootless%20Containers%20%28Podman-Buildah%29/README.md)

داکر خوبه ولی یه مشکل داره - باید root باشی! با Podman همون کارو بدون root میکنی. خیلی راحت‌تره.

**چند تا دستور که یاد میگیری:**
- `podman run -d nginx` - یه کانتینر بساز
- `podman ps` - ببین چی داری
- `podman logs myapp` - لاگ‌ها رو ببین

---

## ۳ – چجوری تو ۵ دقیقه مشکل سرویسمون رو پیدا کنیم
[بریم یاد بگیریم](./03-Service%20Triage%20in%205%20Minutes/README.md)

برنامه کرش کرد؟ کار نمیکنه؟ کنده؟ تو ۵ دقیقه یاد میگیری چطور بفهمی مشکل از کجاست!

**چند تا دستور که یاد میگیری:**
- `pgrep -a myapp` - پیدا کن ببین داره کار میکنه یا نه
- `ss -ltnp` - ببین پورت باز شده یا نه
- `journalctl -u myapp -f` - لاگ‌ها رو چک کن

---

## ۴ – بفهمیم چی سیستممون رو کند کرده
[بریم یاد بگیریم](./04-Performance%20Profiling%20%28perf-eBPF%29/README.md)

سیستم کنده؟ برنامه دیر جواب میده؟ یاد میگیری چطور بفهمی چی داره CPU یا رم رو میخوره.

**چند تا دستور که یاد میگیری:**
- `top` - ببین کی چقد رم و CPU میخوره
- `free -h` - ببین چقد رم داری
- `perf top` - ببین کدوم تابع داره کار زیاد میکنه

---

## ۵ – یه گواهی HTTPS بگیریم واسه سایتمون
[بریم یاد بگیریم](./05-TLS%20%26%20Certificates/README.md)

میخوای سایتت https داشته باشه؟ یا تو لوکال باید تست کنی؟ اینجا یاد میگیری چطور گواهی بگیری - حتی رایگان!

**چند تا دستور که یاد میگیری:**
- `mkcert localhost` - واسه لوکال گواهی بساز
- `openssl x509 -in cert.pem -text` - گواهی رو چک کن
- `certbot --nginx` - گواهی رایگان بگیر

---

## ۶ – کارای جالب با SSH
[بریم یاد بگیریم](./06-Advanced%20SSH/README.md)

SSH فقط واسه وصل شدن به سرور نیست! میتونی فایل جابجا کنی، پورت forward کنی، و کلی کار دیگه.

**چند تا دستور که یاد میگیری:**
- `ssh user@host` - وصل شو به سرور
- `scp file.txt host:/path/` - فایل کپی کن
- `ssh -L 8080:localhost:80 host` - تونل بساز

---

## ۷ – محدود کردن برنامه‌ها که سیستم رو خراب نکنن
[بریم یاد بگیریم](./07-Resource%20Limits%20%26%20Hardening/README.md)

یه برنامه باگ داره و تموم رم رو میخوره؟ یاد بگیر چطور بهش محدودیت بذاری که نتونه سیستم رو خراب کنه.

**چند تا دستور که یاد میگیری:**
- `systemctl show -p MemoryMax myapp` - ببین چقد رم میتونه بخوره
- `systemd-analyze security myapp` - ببین امنیت برنامه چطوره
- `ulimit -a` - محدودیت‌ها رو ببین

---

## ۸ – وقتی برنامه کرش کرد چیکار کنیم
[بریم یاد بگیریم](./08-Crash%20%26%20Core%20Dump%20Debugging/README.md)

برنامه کرش کرد و نمیدونی چرا؟ با core dump میتونی دقیقاً ببینی تو چه خطی خراب شده.

**چند تا دستور که یاد میگیری:**
- `coredumpctl list` - ببین چی کرش کرده
- `coredumpctl debug` - بررسی کن ببین مشکل چیه
- `ulimit -c unlimited` - core dump رو فعال کن

---

## ۹ – چطور برنامه رو بسته‌بندی کنیم
[بریم یاد بگیریم](./09-Reproducible%20Packaging/README.md)

میخوای برنامه‌ت رو راحت نصب کنی؟ یه بسته .deb یا .rpm درست کن و با یه دستور نصبش کن!

**چند تا دستور که یاد میگیری:**
- `fpm -s dir -t deb -n myapp` - بسته بساز
- `dpkg -i myapp.deb` - نصبش کن
- `apt remove myapp` - پاکش کن

---

## ۱۰ – شبیه‌سازی مشکلات شبکه
[بریم یاد بگیریم](./10-Network%20Simulation%20Labs/README.md)

برنامه تو لوکال خوب کار میکنه ولی تو سرور مشکل داره؟ اینجا یاد میگیری چطور شرایط بد شبکه رو شبیه‌سازی کنی.

**چند تا دستور که یاد میگیری:**
- `ip netns add myns` - یه شبکه مجازی بساز
- `tc qdisc add dev eth0 root netem delay 100ms` - تاخیر شبکه بذار
- `ip netns exec myns ping` - تو شبکه مجازی دستور بزن

---

## ساختار پوشه‌ها

```
linux-commands/
├── 01-Systemd User Units & Sockets/
├── 02-Rootless Containers (Podman-Buildah)/
├── 03-Service Triage in 5 Minutes/
├── 04-Performance Profiling (perf-eBPF)/
├── 05-TLS & Certificates/
├── 06-Advanced SSH/
├── 07-Resource Limits & Hardening/
├── 08-Crash & Core Dump Debugging/
├── 09-Reproducible Packaging/
└── 10-Network Simulation Labs/
```

---

## چطور شروع کنی؟

هر پوشه یه موضوع داره که توش:
- همه چی رو خیلی ساده توضیح دادیم
- مثال‌های عملی گذاشتیم که خودت امتحان کنی
- گام به گام پیش میری

یه موضوع رو انتخاب کن و شروع کن یاد بگیر!

---

## چند تا نکته مهم

- قبل از اینکه با sudo دستوری رو بزنی، حواست باشه داری چیکار میکنی
- هر دستوری رو نمیدونی چیه `--help` بزن دنبالش ببین چی میگه
- تمرین خیلی مهمه! فقط بخونی یاد نمیگیری، باید خودت امتحان کنی

---

## نصب ابزارها روی Arch Linux

```bash
# پکیج‌های اصلی
sudo pacman -S podman buildah
sudo pacman -S perf
sudo pacman -S mkcert
sudo pacman -S certbot certbot-nginx
sudo pacman -S openssh
sudo pacman -S gdb
sudo pacman -S ruby rubygems gcc make

# نصب fpm
sudo gem install fpm

# ابزارهای شبکه
sudo pacman -S iproute2 iputils

# ابزارهای مانیتورینگ
sudo pacman -S htop iotop iftop
```

---

## لایسنس

این مخزن واسه یادگیریه، راحت استفاده کن!
